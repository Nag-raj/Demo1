const category = {
    categoryList: {
        "categoryHierarchy": [
            {
                "id": "Surgical Endoscopic Devices",
                "url": "/categories/Surgical Endoscopic Devices/products",
                "subcategories": [
                    {
                        "id": "Endoscopic Devices",
                        "url": "/categories/Endoscopic Devices/products",
                        "subcategories": [
                            {
                                "id": "Accessories & Endocuff Vision",
                                "url": "/categories/Accessories & Endocuff Vision/products"
                            },
                            {
                                "id": "ERCP",
                                "name": "ERCP",
                                "url": "/categories/ERCP/products"
                            },
                            {
                                "id": "Foreign Body Retrieval",
                                "url": "/categories/Foreign Body Retrieval/products"
                            },
                            {
                                "id": "Gynecology- LESS (Laparoendoscopic Single Site)",
                                "url": "/categories/Gynecology- LESS (Laparoendoscopic Single Site)/products"
                            },
                            {
                                "id": "EPCR",
                                "name": "EPCR",
                                "url": "/categories/EPCR/products"
                            },
                            {
                                "id": "Hemostasis",
                                "name": "Hemostasis",
                                "url": "/categories/Hemostasis/products"
                            },
                            {
                                "id": "Infection Prevention Solutions",
                                "url": "/categories/Infection Prevention Solutions/products"
                            },
                            {
                                "id": "Luminal Patency",
                                "url": "/categories/Luminal Patency/products"
                            },
                            {
                                "id": "Single-use Endoscopes",
                                "url": "/categories/Single-use Endoscopes/products"
                            },
                            {
                                "id": "Tissue Biopsy",
                                "url": "/categories/Tissue Biopsy/products"
                            }
                        ]
                    }
                ]
            },
            {
                "id": "Medical Devices",
                "url": "/categories/Medical Devices/products",
                "subcategories": [
                    {
                        "id": "ENT Endoscopes",
                        "url": "/categories/ENT Endoscopes/products",
                        "subcategories": [
                            {
                                "id": "Flexible ENT Endoscopes",
                                "url": "/categories/Flexible ENT Endoscopes/products"
                            }
                        ]
                    },
                    {
                        "id": "Tissue Management",
                        "url": "/categories/Tissue Management/products"
                    },
                    {
                        "id": "Generators",
                        "name": "Generators",
                        "url": "/categories/Generators/products"
                    }
                ]
            },
            {
                "id": "Accessory Devices",
                "url": "/categories/Accessory Devices/products",
                "subcategories": [
                    {
                        "id": "Energy related Devices",
                        "url": "/categories/Energy related Devices/products",
                        "subcategories": [
                            {
                                "id": "Handpieces",
                                "name": "Handpieces",
                                "url": "/categories/Handpieces/products"
                            },
                            {
                                "id": "Laparoendoscopic Single Site",
                                "url": "/categories/Laparoendoscopic Single Site/products"
                            }
                        ]
                    },
                    {
                        "id": "Gynecology-Tissue Extraction",
                        "url": "/categories/Gynecology-Tissue Extraction/products"
                    },
                    {
                        "id": "Respiratory Endoscopic Devices",
                        "url": "/categories/Respiratory Endoscopic Devices/products",
                        "subcategories": [
                            {
                                "id": "EUS/EBUS",
                                "name": "EUS/EBUS",
                                "url": "/categories/EUS/EBUS/products"
                            }
                        ]
                    },
                    {
                        "id": "Urology Devices",
                        "url": "/categories/Urology Devices/products",
                        "subcategories": [
                            {
                                "id": "Stone Management & Lithotripsy",
                                "url": "/categories/Stone Management & Lithotripsy/products"
                            }
                        ]
                    }
                ]
            },
            {
                "id": "Equipment Accessories",
                "url": "/categories/Equipment Accessories/products",
                "subcategories": [
                    {
                        "id": "Cables and Power Cords",
                        "url": "/categories/Cables and Power Cords/products",
                        "subcategories": [
                            {
                                "id": "Connector Cables",
                                "url": "/categories/Connector Cables/products"
                            },
                            {
                                "id": "Communication Cable",
                                "url": "/categories/Communication Cable/products"
                            },
                            {
                                "id": "Power Cords",
                                "url": "/categories/Power Cords/products"
                            }
                        ]
                    },
                    {
                        "id": "Adapters & Expansion Kits for Adapters",
                        "url": "/categories/Adapters & Expansion Kits for Adapters/products"
                    },
                    {
                        "id": "Carts & Workstations Accessories",
                        "url": "/categories/Carts & Workstations Accessories/products"
                    },
                    {
                        "id": "Footswitchs & Foot holders",
                        "url": "/categories/Footswitchs & Foot holders/products"
                    },
                    {
                        "id": "Footswitches & Foot holders",
                        "url": "/categories/Footswitches & Foot holders/products"
                    },
                    {
                        "id": "Other Ancillary Devices",
                        "url": "/categories/Other Ancillary Devices/products"
                    },
                    {
                        "id": "Transducers",
                        "name": "Transducers",
                        "url": "/categories/Transducers/products"
                    }
                ]
            },
            {
                "id": "Infection Prevention",
                "url": "/categories/Infection Prevention/products",
                "subcategories": [
                    {
                        "id": "Disinfectant & Detergents",
                        "url": "/categories/Disinfectant & Detergents/products",
                        "subcategories": [
                            {
                                "id": "Cleaning Detergent",
                                "url": "/categories/Cleaning Detergent/products"
                            }
                        ]
                    },
                    {
                        "id": "Cleaning Brushes, Wire Brushes",
                        "url": "/categories/Cleaning Brushes, Wire Brushes/products"
                    }
                ]
            },
            {
                "id": "Polyp Traps",
                "url": "/categories/Polyp Traps/products"
            },
            {
                "id": "InfectionPrevention",
                "name": "Infection Prevention",
                "url": "/categories/InfectionPrevention/products",
                "subcategories": [
                    {
                        "id": "Disinfectant&Detergents",
                        "name": "Disinfectant & Detergents",
                        "url": "/categories/Disinfectant&Detergents/products",
                        "subcategories": [
                            {
                                "id": "CleaningDetergent",
                                "name": "Cleaning Detergent",
                                "url": "/categories/CleaningDetergent/products"
                            }
                        ]
                    },
                    {
                        "id": "CleaningBrushes,WireBrushes",
                        "name": "Cleaning Brushes, Wire Brushes",
                        "url": "/categories/CleaningBrushes,WireBrushes/products"
                    }
                ]
            },
            {
                "id": "MedicalDevices",
                "name": "Medical Devices",
                "url": "/categories/MedicalDevices/products",
                "subcategories": [
                    {
                        "id": "ENTEndoscopes",
                        "name": "ENT Endoscopes",
                        "url": "/categories/ENTEndoscopes/products",
                        "subcategories": [
                            {
                                "id": "FlexibleENTEndoscopes",
                                "name": "Flexible ENT Endoscopes",
                                "url": "/categories/FlexibleENTEndoscopes/products"
                            }
                        ]
                    },
                    {
                        "id": "Generators",
                        "name": "Generators",
                        "url": "/categories/Generators/products"
                    },
                    {
                        "id": "TissueManagement",
                        "name": "Tissue Management",
                        "url": "/categories/TissueManagement/products"
                    }
                ]
            },
            {
                "id": "AccessoryDevices",
                "name": "Accessory Devices",
                "url": "/categories/AccessoryDevices/products",
                "subcategories": [
                    {
                        "id": "EnergyrelatedDevices",
                        "name": "Energy related Devices",
                        "url": "/categories/EnergyrelatedDevices/products",
                        "subcategories": [
                            {
                                "id": "Handpieces",
                                "name": "Handpieces",
                                "url": "/categories/Handpieces/products"
                            },
                            {
                                "id": "LaparoendoscopicSingleSite",
                                "name": "Laparoendoscopic Single Site",
                                "url": "/categories/LaparoendoscopicSingleSite/products"
                            }
                        ]
                    },
                    {
                        "id": "Gynecology-TissueExtraction",
                        "name": "Gynecology-Tissue Extraction",
                        "url": "/categories/Gynecology-TissueExtraction/products"
                    },
                    {
                        "id": "RespiratoryEndoscopicDevices",
                        "name": "Respiratory Endoscopic Devices",
                        "url": "/categories/RespiratoryEndoscopicDevices/products",
                        "subcategories": [
                            {
                                "id": "EUS/EBUS",
                                "name": "EUS/EBUS",
                                "url": "/categories/EUS/EBUS/products"
                            }
                        ]
                    },
                    {
                        "id": "UrologyDevices",
                        "name": "Urology Devices",
                        "url": "/categories/UrologyDevices/products",
                        "subcategories": [
                            {
                                "id": "StoneManagement&Lithotripsy",
                                "name": "Stone Management & Lithotripsy",
                                "url": "/categories/StoneManagement&Lithotripsy/products"
                            }
                        ]
                    }
                ]
            },
            {
                "id": "EquipmentAccessories",
                "name": "Equipment Accessories",
                "url": "/categories/EquipmentAccessories/products",
                "subcategories": [
                    {
                        "id": "CablesandPowerCords",
                        "name": "Cables and Power Cords",
                        "url": "/categories/CablesandPowerCords/products",
                        "subcategories": [
                            {
                                "id": "CommunicationCable",
                                "name": "Communication Cable",
                                "url": "/categories/CommunicationCable/products"
                            },
                            {
                                "id": "ConnectorCables",
                                "name": "Connector Cables",
                                "url": "/categories/ConnectorCables/products"
                            },
                            {
                                "id": "PowerCords",
                                "name": "Power Cords",
                                "url": "/categories/PowerCords/products"
                            }
                        ]
                    },
                    {
                        "id": "Adapters&ExpansionKitsforAdapters",
                        "name": "Adapters & Expansion Kits for Adapters",
                        "url": "/categories/Adapters&ExpansionKitsforAdapters/products"
                    },
                    {
                        "id": "Carts&WorkstationsAccessories",
                        "name": "Carts & Workstations Accessories",
                        "url": "/categories/Carts&WorkstationsAccessories/products"
                    },
                    {
                        "id": "Footswitchs&Footholders",
                        "name": "Footswitchs & Foot holders",
                        "url": "/categories/Footswitchs&Footholders/products"
                    },
                    {
                        "id": "Footswitches&Footholders",
                        "name": "Footswitches & Foot holders",
                        "url": "/categories/Footswitches&Footholders/products"
                    },
                    {
                        "id": "OtherAncillaryDevices",
                        "name": "Other Ancillary Devices",
                        "url": "/categories/OtherAncillaryDevices/products"
                    },
                    {
                        "id": "Transducers",
                        "name": "Transducers",
                        "url": "/categories/Transducers/products"
                    }
                ]
            },
            {
                "id": "SurgicalEndoscopicDevices",
                "name": "Surgical Endoscopic Devices",
                "url": "/categories/SurgicalEndoscopicDevices/products",
                "subcategories": [
                    {
                        "id": "EndoscopicDevices",
                        "name": "Endoscopic Devices",
                        "url": "/categories/EndoscopicDevices/products",
                        "subcategories": [
                            {
                                "id": "Accessories&EndocuffVision",
                                "name": "Accessories & Endocuff Vision",
                                "url": "/categories/Accessories&EndocuffVision/products"
                            },
                            {
                                "id": "EPCR",
                                "name": "EPCR",
                                "url": "/categories/EPCR/products"
                            },
                            {
                                "id": "ERCP",
                                "name": "ERCP",
                                "url": "/categories/ERCP/products"
                            },
                            {
                                "id": "ForeignBodyRetrieval",
                                "name": "Foreign Body Retrieval",
                                "url": "/categories/ForeignBodyRetrieval/products"
                            },
                            {
                                "id": "Hemostasis",
                                "name": "Hemostasis",
                                "url": "/categories/Hemostasis/products"
                            },
                            {
                                "id": "InfectionPreventionSolutions",
                                "name": "Infection Prevention Solutions",
                                "url": "/categories/InfectionPreventionSolutions/products"
                            },
                            {
                                "id": "Gynecology-LESS(LaparoendoscopicSingleSite)",
                                "name": "Gynecology- LESS (Laparoendoscopic Single Site)",
                                "url": "/categories/Gynecology-LESS(LaparoendoscopicSingleSite)/products"
                            },
                            {
                                "id": "LuminalPatency",
                                "name": "Luminal Patency",
                                "url": "/categories/LuminalPatency/products"
                            },
                            {
                                "id": "Single-useEndoscopes",
                                "name": "Single-use Endoscopes",
                                "url": "/categories/Single-useEndoscopes/products"
                            },
                            {
                                "id": "TissueBiopsy",
                                "name": "Tissue Biopsy",
                                "url": "/categories/TissueBiopsy/products"
                            }
                        ]
                    }
                ]
            },
            {
                "id": "PolypTraps",
                "name": "Polyp Traps",
                "url": "/categories/PolypTraps/products"
            }
        ]
    },
    init: function (val) {
        let $curScope = $(val);
        // for (let i = 0; i < this.categoryList.categoryHierarchy.length; i++) {

        //     $curScope.append(`<div class="shop-category-block">
        //     <div class="shop-category-l1">
        //         <span class="l1-label">${this.categoryList.categoryHierarchy[i].id}</span>
        //         <a class="view-all" href="#">View All</a>
        //     </div>
        // </div>`)

        // }
        // for (let i = 0; i < this.categoryList.categoryHierarchy.length; i++) {
        //     $curScope.find(".shop-category-block").each((ind, ele) => {
        //         let li = '';
        //         if (this.categoryList.categoryHierarchy[i].subcategories !== undefined) {
        //             for (let j = 0; j < this.categoryList.categoryHierarchy[i].subcategories.length; j++) {
        //                 li = li + `<li class="shop-category-l2-list"><div class="align-l2"><img src="/assets/icons/Arrow_OlyBlue.svg" alt="l2-arrow">
        //             <span>${this.categoryList.categoryHierarchy[i].subcategories[j].id}</span></div></li>`;
        //             }
        //             let ul = `<div class="shop-category-l2"><ul class="shop-category-l2-ul">` + li + `</ul></div>`;
        //             if (ind === i) {
        //                 $(ele).append(ul);
        //             }
        //         } else {
        //             if (ind === i) {
        //                 $(ele).find(".shop-category-l1").css({
        //                     "border-bottom": 0,
        //                     "padding-bottom": 0
        //                 })
        //             }
        //         }
        //     })
        // }

        // $curScope.find(".shop-category-block").each((ind, ele) => {
        //     if (this.categoryList.categoryHierarchy[ind].subcategories !== undefined) {
        //         for (let j = 0; j < this.categoryList.categoryHierarchy[ind].subcategories.length; j++) {
        //             if (this.categoryList.categoryHierarchy[ind].subcategories[j].subcategories !== undefined) {
        //                 let newLi = ''
        //                 for (let k = 0; k < this.categoryList.categoryHierarchy[ind].subcategories[j].subcategories.length; k++) {
        //                     newLi = newLi + `<li class="shop-category-l3-list">${this.categoryList.categoryHierarchy[ind].subcategories[j].subcategories[k].id}</li>`
        //                 }
        //                 let newUl = `<div class="shop-category-l3"><ul>` + newLi + `</ul></div>`;
        //                 $(ele).find(".shop-category-l2 .shop-category-l2-ul .shop-category-l2-list").each((indx, el) => {
        //                     if (indx === j) {
        //                         $(el).append(newUl);
        //                     }
        //                 });
        //             }
        //         }
        //     }
        // })
        hideListFunction = function () {
            $curScope.find(".shop-category-l3 ul").each((index, ele) => {
                if ($(ele).find(".shop-category-l3-list").length > 4) {
                    $(ele).find(".shop-category-l3-list").each((ind, innerEle) => {
                        if (ind === $(ele).find(".shop-category-l3-list").length - 1) {
                            $(innerEle).show();
                            $(innerEle)?.find("a")?.removeAttr("href");
                            $(innerEle).addClass("view-all-list");
                        }
                        if (ind > 3 && ind < ($(ele).find(".shop-category-l3-list").length - 1)) {
                            $(innerEle).hide();
                        }
                    })
                }
            });
        }
        hideListFunction();
        $curScope.find(".view-all-list").each((ind, ele) => {
            $(ele).on("click", function (event) {
                $(this).parent().find(".shop-category-l3-list").show();
                $(this).hide();
            })
        })

        $(".shop-category-l2-list .align-l2").on("click", function (event) {
            $(event.currentTarget).parent().find("img").toggleClass("active-img");
            $(event.currentTarget).toggleClass("active-span");
            $(event.currentTarget).parents(".shop-category-l2-list").find(".shop-category-l3").toggle();
            hideListFunction();
        })

    }
};
$(document).ready(function () {
    if ($(".shop-category").length) {
        $(".shop-category").each((ind, val) => {
            category.init(val);
        })
    }
});